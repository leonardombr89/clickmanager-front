server {
    listen 80;
    server_name _;

    root /usr/share/nginx/html;
    index /app/index.html;

    location = / {
        return 302 /app/;
    }

    # SPA Angular em /app com suporte a deep link (refresh)
    location /app/ {
        try_files $uri $uri/ /app/index.html;
    }

    # Backends no mesmo dom√≠nio (ajuste upstreams conforme ambiente)
    # location /api/  { proxy_pass http://backend:8080/api/; }
    # location /auth/ { proxy_pass http://backend:8080/auth/; }
}
