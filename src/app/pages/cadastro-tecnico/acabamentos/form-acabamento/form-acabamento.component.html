<mat-card class="cardWithShadow">

  <!-- Cabeçalho padrão com botão Voltar -->
  <app-card-header [titulo]="isEditMode ? 'Editar Acabamento' : 'Novo Acabamento'" botaoTexto="Voltar"
    botaoIcone="arrow_back" botaoCor="primary" [botaoRota]="['/page/cadastro-tecnico/acabamentos']"
    [mostrarDivisor]="true">
  </app-card-header>

  <mat-card-content>

    <form [formGroup]="form" (ngSubmit)="onSubmit()">

      <!-- Nome do Acabamento -->
      <app-input-texto-restrito class="m-b-16" [control]="getFormControl('nome')" label="Nome"
        placeholder="Digite o nome do acabamento">
      </app-input-texto-restrito>

      <!-- Descrição do Acabamento -->
      <app-input-texto-restrito class="m-b-16" [control]="getFormControl('descricao')" label="Descrição"
        placeholder="Digite uma descrição">
      </app-input-texto-restrito>

      <!-- Preço -->
      <div class="m-b-24">
        <app-preco-selector [formGroup]="getFormGroup('preco')"
          [tiposDisponiveis]="['FIXO', 'QUANTIDADE', 'DEMANDA', 'METRO', 'HORA']">
        </app-preco-selector>
      </div>

      <!-- Ativo (somente no modo edição) -->
      @if (isEditMode) {
      <div class="m-b-24">
        <mat-slide-toggle formControlName="ativo">
          {{ form.get('ativo')?.value ? 'Acabamento Ativo' : 'Acabamento Inativo' }}
        </mat-slide-toggle>
      </div>
      }

      <!-- Botões -->
      <div class="d-flex gap-12 m-t-8">

        <button mat-flat-button color="primary" type="submit" [disabled]="form.invalid">
          {{ isEditMode ? 'Atualizar' : 'Salvar' }}
        </button>

        <a mat-flat-button class="bg-error text-white" [routerLink]="['/page/cadastro-tecnico/acabamentos']">
          Cancelar
        </a>

      </div>

    </form>

  </mat-card-content>
</mat-card>