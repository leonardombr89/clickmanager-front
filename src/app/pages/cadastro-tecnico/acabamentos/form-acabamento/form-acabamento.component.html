<mat-card class="cardWithShadow">

  <!-- Cabeçalho padrão com botão Voltar -->
  <app-card-header
    [titulo]="isEditMode ? 'Editar Acabamento' : 'Novo Acabamento'"
    botaoTexto="Voltar"
    botaoIcone="arrow_back"
    botaoCor="primary"
    [botaoRota]="['/page/cadastro-tecnico/acabamentos']"
    [mostrarDivisor]="true">
  </app-card-header>

  <mat-card-content>

    <form [formGroup]="form" (ngSubmit)="onSubmit()">

      <mat-tab-group>

        <!-- Aba Geral -->
        <mat-tab label="Geral">
          <mat-card class="cardWithShadow">
            <mat-card-content>

              <app-input-texto-restrito
                class="m-b-16"
                [control]="nomeControl"
                label="Nome"
                placeholder="Digite o nome do acabamento">
              </app-input-texto-restrito>

              <app-input-texto-restrito
                class="m-b-16"
                [control]="descricaoControl"
                label="Descrição"
                placeholder="Digite uma descrição">
              </app-input-texto-restrito>

            </mat-card-content>
          </mat-card>
        </mat-tab>

        <!-- Aba Variações -->
        <mat-tab label="Variações">
          <mat-card class="cardWithShadow">
            <mat-card-content>
              <app-variacoes-acabamento
                [variacoesIniciais]="variacoesIniciais"
                (variacoesChange)="onVariacoesChange($event)">
              </app-variacoes-acabamento>
            </mat-card-content>
          </mat-card>
        </mat-tab>

      </mat-tab-group>

      <!-- Botões -->
      <div class="d-flex gap-12 m-t-24 flex-wrap">

        <!-- CANCELAR -->
        <a
          mat-flat-button
          class="bg-error text-white"
          [routerLink]="['/page/cadastro-tecnico/acabamentos']">
          Cancelar
        </a>

        <!-- SALVAR -->
        <button
          mat-flat-button
          color="primary"
          type="submit"
          [disabled]="form.invalid || loading">
          {{ isEditMode ? 'Atualizar' : 'Salvar' }}
        </button>

      </div>

    </form>

  </mat-card-content>
</mat-card>
