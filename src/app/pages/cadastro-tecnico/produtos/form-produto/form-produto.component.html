<mat-card class="cardWithShadow">

  <!-- Cabeçalho com botão voltar -->
  <app-card-header [titulo]="isEditMode ? 'Editar Produto' : 'Novo Produto'" botaoTexto="Voltar" botaoIcone="arrow_back"
    [botaoRota]="['/page/cadastro-tecnico/produtos']" [mostrarDivisor]="true">
  </app-card-header>

  <mat-card-content>

    <form [formGroup]="form" (ngSubmit)="onSubmit()">

      <mat-tab-group>

        <!-- Aba Geral -->
        <mat-tab label="Geral">
          <mat-card class="cardWithShadow">
            <mat-card-content>

              <app-input-texto-restrito class="m-b-16" [control]="nomeControl" label="Nome" placeholder="Digite o nome do produto">
              </app-input-texto-restrito>

              <app-input-texto-restrito class="m-b-16" [control]="descricaoControl" label="Descrição"
                placeholder="Digite uma descrição do produto">
              </app-input-texto-restrito>

            </mat-card-content>
          </mat-card>
        </mat-tab>

        <!-- Aba Política de Revenda -->
        <mat-tab label="Política de Revenda">
          <mat-card class="cardWithShadow">
            <mat-card-content>
              <app-politica-revenda [formGroup]="form" [value]="politicaDoProduto"
                (valueChange)="onPoliticaChange($event)">
              </app-politica-revenda>
            </mat-card-content>
          </mat-card>
        </mat-tab>

        <!-- Aba Variações -->
        <mat-tab label="Variações">
          <mat-card class="cardWithShadow">
            <mat-card-content>
              <app-variacoes-produto [variacoesIniciais]="variacoesIniciais" [politicaProduto]="politicaDoProduto"
                (variacoesChange)="onVariacoesChange($event)">
              </app-variacoes-produto>
            </mat-card-content>
          </mat-card>
        </mat-tab>

      </mat-tab-group>

      <!-- Botões -->
      <div class="d-flex gap-12 m-t-24 flex-wrap">

        <!-- CANCELAR -->
        <button mat-flat-button class="bg-error text-white" type="button"
          [routerLink]="['/page/cadastro-tecnico/produtos']">
          Cancelar
        </button>

        <!-- SALVAR -->
        <button mat-flat-button color="primary" type="submit" [disabled]="form.invalid || loading">
          {{ isEditMode ? 'Atualizar' : 'Salvar' }}
        </button>

      </div>

    </form>

  </mat-card-content>

</mat-card>
