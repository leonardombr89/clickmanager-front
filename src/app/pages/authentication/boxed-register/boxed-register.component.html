<div class="blank-layout-container justify-content-center">
  <div class="auth-wrapper">
    <div class="position-relative shaper-wrapper">
      <div class="w-100 position-relative rounded bg-white auth-card">
        <div class="auth-body">

          <div class="m-t-20 text-center">
            <app-branding></app-branding>
          </div>

          <h4 class="f-w-700 f-s-26 lh-base text-center m-t-16">
            Cadastro de empresa e gestor
          </h4>

          <div class="or-border m-t-20">Preencha os dados</div>

          <form class="m-t-30" [formGroup]="form" (ngSubmit)="submit()">
            <div class="row">

              <!-- ========================================================= -->
              <!-- COLUNA ESQUERDA – EMPRESA REDUZIDA                        -->
              <!-- ========================================================= -->
              <div class="col-12 col-md-6" formGroupName="empresa">
                <h5 class="m-b-16">Dados da empresa</h5>

                <!-- Nome empresa -->
                <mat-label class="f-s-14 f-w-600 m-b-12 d-block">Nome da empresa</mat-label>
                <mat-form-field appearance="outline" class="w-100" color="primary">
                  <input matInput formControlName="nome" />
                  @if(empresa.get('nome')?.touched && empresa.get('nome')?.invalid) {
                  <mat-hint class="error-msg">
                    <div class="text-error">Nome é obrigatório.</div>
                  </mat-hint>
                  }
                </mat-form-field>

                <!-- Telefone -->
                <mat-label class="f-s-14 f-w-600 m-b-12 d-block">Telefone</mat-label>
                <mat-form-field appearance="outline" class="w-100" color="primary">
                  <input matInput formControlName="telefone" />
                  @if(empresa.get('telefone')?.touched && empresa.get('telefone')?.invalid) {
                  <mat-hint class="error-msg">
                    <div class="text-error">Telefone é obrigatório.</div>
                  </mat-hint>
                  }
                </mat-form-field>

                <!-- CNPJ -->
                <mat-label class="f-s-14 f-w-600 m-b-12 d-block">CNPJ</mat-label>
                <mat-form-field appearance="outline" class="w-100" color="primary">
                  <input matInput formControlName="cnpj" />
                  @if(empresa.get('cnpj')?.touched && empresa.get('cnpj')?.invalid) {
                  <mat-hint class="error-msg">
                    <div class="text-error">CNPJ é obrigatório.</div>
                  </mat-hint>
                  }
                </mat-form-field>
              </div>

              <!-- ========================================================= -->
              <!-- COLUNA DIREITA – USUÁRIO GESTOR                         -->
              <!-- ========================================================= -->
              <div class="col-12 col-md-6" formGroupName="usuario">
                <h5 class="m-b-16">Dados do gestor</h5>

                <!-- Nome gestor -->
                <mat-label class="f-s-14 f-w-600 m-b-12 d-block">Nome do gestor</mat-label>
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput formControlName="nome" />
                  @if(usuario.get('nome')?.touched && usuario.get('nome')?.invalid) {
                  <mat-hint class="error-msg">
                    @if(usuario.get('nome')?.errors?.['required']) {
                    <div class="text-error">Nome é obrigatório.</div>
                    }
                    @if(usuario.get('nome')?.errors?.['minlength']) {
                    <div class="text-error">Mínimo de 6 caracteres.</div>
                    }
                  </mat-hint>
                  }
                </mat-form-field>

                <!-- Email -->
                <mat-label class="f-s-14 f-w-600 m-b-12 d-block">E-mail</mat-label>
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput type="email" formControlName="email" />
                </mat-form-field>

                <!-- Telefone -->
                <mat-label class="f-s-14 f-w-600 m-b-12 d-block">Telefone</mat-label>
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput formControlName="telefone" />
                </mat-form-field>

                <!-- Senha -->
                <mat-label class="f-s-14 f-w-600 m-b-12 d-block">Senha</mat-label>
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput type="password" formControlName="senha" />
                </mat-form-field>

                <!-- Confirmar senha -->
                <mat-label class="f-s-14 f-w-600 m-b-12 d-block">Confirmar senha</mat-label>
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput type="password" formControlName="confirmarSenha" />
                  @if(senhaDivergente) {
                  <mat-hint class="error-msg">
                    <div class="text-error">As senhas não conferem.</div>
                  </mat-hint>
                  }
                </mat-form-field>

              </div>

            </div>

            <!-- ========================================================= -->
            <!-- BOTÃO FINAL — ABAIXO DE TUDO                             -->
            <!-- ========================================================= -->
            <div class="row m-t-24">
              <div class="col-12">
                <button mat-flat-button color="primary" class="w-100" [disabled]="form.invalid || senhaDivergente">
                  Criar conta e empresa
                </button>
              </div>
            </div>

          </form>

          <span class="d-block f-w-500 text-center m-t-24">
            Já tem uma conta?
            <a [routerLink]="['/authentication/login']" class="text-decoration-none text-primary f-w-500 f-s-14">
              Entrar
            </a>
          </span>

        </div>
      </div>
    </div>
  </div>
</div>